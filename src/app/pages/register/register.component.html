<div class="register-container">
  <div class="register-box">
    <h2>Registro de Usuario</h2>
    <form (ngSubmit)="onSubmit()" #registerForm="ngForm">
      <div class="form-group">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Nombre de Usuario</mat-label>
          <input
            matInput
            type="text"
            name="username"
            [(ngModel)]="registerData.username"
            required
            minlength="3"
            #username="ngModel"
            placeholder="Ingrese su nombre de usuario"
          />
          <mat-error *ngIf="username.invalid && (username.dirty || username.touched)">
            <span *ngIf="username.errors?.['required']">El nombre de usuario es requerido</span>
            <span *ngIf="username.errors?.['minlength']">El nombre debe tener al menos 3 caracteres</span>
          </mat-error>
        </mat-form-field>
      </div>

      <div class="form-group">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Correo Electrónico</mat-label>
          <input
            matInput
            type="email"
            name="email"
            [(ngModel)]="registerData.email"
            required
            email
            #email="ngModel"
            placeholder="Ingrese su correo electrónico"
          />
          <mat-error *ngIf="email.invalid && (email.dirty || email.touched)">
            <span *ngIf="email.errors?.['required']">El correo electrónico es requerido</span>
            <span *ngIf="email.errors?.['email']">Ingrese un correo electrónico válido</span>
          </mat-error>
        </mat-form-field>
      </div>

      <div class="form-group">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Contraseña</mat-label>
          <input
            matInput
            type="password"
            name="password"
            [(ngModel)]="registerData.password"
            required
            minlength="6"
            #password="ngModel"
            placeholder="Ingrese su contraseña"
          />
          <mat-error *ngIf="password.invalid && (password.dirty || password.touched)">
            <span *ngIf="password.errors?.['required']">La contraseña es requerida</span>
            <span *ngIf="password.errors?.['minlength']">La contraseña debe tener al menos 6 caracteres</span>
          </mat-error>
        </mat-form-field>
      </div>

      <div class="form-group">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Confirmar Contraseña</mat-label>
          <input
            matInput
            type="password"
            name="confirmPassword"
            [(ngModel)]="confirmPassword"
            required
            #confirmPasswordField="ngModel"
            placeholder="Confirme su contraseña"
          />
          <mat-error *ngIf="confirmPasswordField.invalid && (confirmPasswordField.dirty || confirmPasswordField.touched)">
            <span *ngIf="confirmPasswordField.errors?.['required']">Debe confirmar la contraseña</span>
          </mat-error>
        </mat-form-field>
      </div>

      <button 
        mat-raised-button 
        color="primary" 
        type="submit" 
        [disabled]="registerForm.invalid || loading" 
        class="register-button full-width"
      >
        <mat-icon *ngIf="!loading">person_add</mat-icon>
        <span *ngIf="loading">Registrando...</span>
        <span *ngIf="!loading">Registrarse</span>
      </button>
    </form>

    <div class="login-link">
      ¿Ya tienes una cuenta? <a routerLink="/login">Inicia sesión aquí</a>
    </div>
  </div>
</div> 